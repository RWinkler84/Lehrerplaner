<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/editor.css">
    <link rel="stylesheet" href="./css/curriculum.css">
    <link rel="stylesheet" href="./css/animations.css">
    <link rel="icon" type="image/png" href="../favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="../favicon.svg" />
    <link rel="shortcut icon" href="../favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Eduplanio" />
    <link rel="manifest" href="../site.webmanifest" />
    <title>Eduplanio - dein Schulorganizer</title>
</head>

<body>
    <nav>
        <div id="topMenuContainer" class="flex spaceBetween doubleGap alignCenter">
            <div>
                <h1>Eduplanio</h1>
            </div>
            <div id="topMenuButtonContainer" class="flex gap">
                <div id="syncIndicator" class="unsynced">
                    <span class="tooltipTextLeft">Deine Daten werden nur lokal gespeichert. Verbinde dein Gerät mit dem
                        Internet und melde dich an, um Datenverlust zu vermeiden.</span>
                </div>
                <div><button id="openMenuButton">&#x2630;</button></div>
                <div id="topMenu" class="flex column justifyCenter ">
                    <button id="openSettingsButton" class="menuButton">Einstellungen</button>
                    <button id="openSupportDialogButton" class="menuButton">Support</button>
                    <button id="openLoginButton" class="menuButton">Login</button>
                    <button id="createAccountButton" class="menuButton">Registrieren</button>
                    <button id="logoutButton" class="menuButton">Abmelden</button>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <div id="timetableContainer">
            <div id="calendarWeekContainer" class="flex gap spaceBetween" style="margin-bottom: 1rem;">
                <div id="calendarWeek" class="flex alignCenter">
                    <h2><span id="wochenplanText">Wochenplan</span> KW <span id="calendarWeekCounter"
                            data-split_first_week="false">-</span></h2>
                    <div id="isCurrentWeekDot"></div>
                </div>
                <div class="flex gap" id="weekSwitcher">
                    <button id="weekBackwardButton">&#9664</button>
                    <div id="dateSpan" class="flex alignEnd"><span id="weekStartDate">Montag</span>&nbsp;-&nbsp;<span
                            id="weekEndDate">Sonntag</span></div>
                    <button id="weekForwardButton">&#9654</button>
                </div>
            </div>
            <div id="weekOverviewContainer">
                <div class="weekOverview">
                    <div id="timeslots">
                        <div></div>
                        <div class="timeslotLabel">1</div>
                        <div class="timeslotLabel">2</div>
                        <div class="timeslotLabel">3</div>
                        <div class="timeslotLabel">4</div>
                        <div class="timeslotLabel">5</div>
                        <div class="timeslotLabel">6</div>
                        <div class="timeslotLabel">7</div>
                        <div class="timeslotLabel">8</div>
                        <div class="timeslotLabel">9</div>
                    </div>

                    <div class="weekday" data-weekday_number="1" data-date="">
                        <div class="weekdayLabel">Mo<span class="isTodayDot"></span>
                            <div class="smallDate"></div>
                        </div>
                        <div class="timeslot" data-timeslot="1"></div>
                        <div class="timeslot" data-timeslot="2"></div>
                        <div class="timeslot" data-timeslot="3"></div>
                        <div class="timeslot" data-timeslot="4"></div>
                        <div class="timeslot" data-timeslot="5"></div>
                        <div class="timeslot" data-timeslot="6"></div>
                        <div class="timeslot" data-timeslot="7"></div>
                        <div class="timeslot" data-timeslot="8"></div>
                        <div class="timeslot" data-timeslot="9"></div>
                    </div>

                    <div class="weekday" data-weekday_number="2" data-date="">
                        <div class="weekdayLabel">Di<span class="isTodayDot"></span>
                            <div class="smallDate"></div>
                        </div>
                        <div class="timeslot" data-timeslot="1"></div>
                        <div class="timeslot" data-timeslot="2"></div>
                        <div class="timeslot" data-timeslot="3"></div>
                        <div class="timeslot" data-timeslot="4"></div>
                        <div class="timeslot" data-timeslot="5"></div>
                        <div class="timeslot" data-timeslot="6"></div>
                        <div class="timeslot" data-timeslot="7"></div>
                        <div class="timeslot" data-timeslot="8"></div>
                        <div class="timeslot" data-timeslot="9"></div>
                    </div>

                    <div class="weekday" data-weekday_number="3" data-date="">
                        <div class="weekdayLabel">Mi<span class="isTodayDot"></span>
                            <div class="smallDate"></div>
                        </div>

                        <div class="timeslot" data-timeslot="1"></div>
                        <div class="timeslot" data-timeslot="2"></div>
                        <div class="timeslot" data-timeslot="3"></div>
                        <div class="timeslot" data-timeslot="4"></div>
                        <div class="timeslot" data-timeslot="5"></div>
                        <div class="timeslot" data-timeslot="6"></div>
                        <div class="timeslot" data-timeslot="7"></div>
                        <div class="timeslot" data-timeslot="8"></div>
                        <div class="timeslot" data-timeslot="9"></div>
                    </div>

                    <div class="weekday" data-weekday_number="4" data-date="">
                        <div class="weekdayLabel">Do<span class="isTodayDot"></span>
                            <div class="smallDate"></div>
                        </div>

                        <div class="timeslot" data-timeslot="1"></div>
                        <div class="timeslot" data-timeslot="2"></div>
                        <div class="timeslot" data-timeslot="3"></div>
                        <div class="timeslot" data-timeslot="4"></div>
                        <div class="timeslot" data-timeslot="5"></div>
                        <div class="timeslot" data-timeslot="6"></div>
                        <div class="timeslot" data-timeslot="7"></div>
                        <div class="timeslot" data-timeslot="8"></div>
                        <div class="timeslot" data-timeslot="9"></div>
                    </div>

                    <div class="weekday" data-weekday_number="5" data-date="">
                        <div class="weekdayLabel">Fr<span class="isTodayDot"></span>
                            <div class="smallDate"></div>
                        </div>
                        <div class="timeslot" data-timeslot="1"></div>
                        <div class="timeslot" data-timeslot="2"></div>
                        <div class="timeslot" data-timeslot="3"></div>
                        <div class="timeslot" data-timeslot="4"></div>
                        <div class="timeslot" data-timeslot="5"></div>
                        <div class="timeslot" data-timeslot="6"></div>
                        <div class="timeslot" data-timeslot="7"></div>
                        <div class="timeslot" data-timeslot="8"></div>
                        <div class="timeslot" data-timeslot="9"></div>
                    </div>

                    <div class="weekday" data-weekday_number="6" data-date="">
                        <div class="weekdayLabel">Sa<span class="isTodayDot"></span>
                            <div class="smallDate"></div>
                        </div>
                        <div class="timeslot" data-timeslot="1"></div>
                        <div class="timeslot" data-timeslot="2"></div>
                        <div class="timeslot" data-timeslot="3"></div>
                        <div class="timeslot" data-timeslot="4"></div>
                        <div class="timeslot" data-timeslot="5"></div>
                        <div class="timeslot" data-timeslot="6"></div>
                        <div class="timeslot" data-timeslot="7"></div>
                        <div class="timeslot" data-timeslot="8"></div>
                        <div class="timeslot" data-timeslot="9"></div>
                    </div>

                    <div class="weekday" data-weekday_number="0" data-date="">
                        <div class="weekdayLabel">So<span class="isTodayDot"></span>
                            <div class="smallDate"></div>
                        </div>
                        <div class="timeslot" data-timeslot="1"></div>
                        <div class="timeslot" data-timeslot="2"></div>
                        <div class="timeslot" data-timeslot="3"></div>
                        <div class="timeslot" data-timeslot="4"></div>
                        <div class="timeslot" data-timeslot="5"></div>
                        <div class="timeslot" data-timeslot="6"></div>
                        <div class="timeslot" data-timeslot="7"></div>
                        <div class="timeslot" data-timeslot="8"></div>
                        <div class="timeslot" data-timeslot="9"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="taskContainer" class="flex doubleGap">

            <div id="upcomingTasksContainer">
                <div style="margin-bottom: 1rem;">
                    <h2>anstehend:</h2>
                </div>

                <!-- upcoming tasks table -->
                <table id="upcomingTasksTable">
                    <thead>
                        <tr>
                            <th class="taskAdditionalInfo"></th>
                            <th class="taskClassName">Kl.</th>
                            <th>Fach</th>
                            <th class="taskDescription">Beschreibung</th>
                            <th class="taskDone"></th>
                        </tr>
                    </thead>
                    <tbody class="taskList">
                        <!-- in Progress Tasks -->
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="4" style="border: none; text-align: center; display: none; padding-top: 2rem;"
                                data-noEntriesFound>Keine Aufgaben gefunden!</td>
                        </tr>
                    </tfoot>
                </table>

            </div>
            <div id="inProgressTasksContainer">
                <div style="margin-bottom: 1rem;">
                    <h2>in Arbeit:</h2>
                </div>
                <div>
                    <!-- in progress tasks table -->

                    <table id="inProgressTasksTable">
                        <thead>
                            <tr>
                                <th class="taskAdditionalInfo"></th>
                                <th class="taskClassName">Kl.</th>
                                <th>Fach</th>
                                <th class="taskDescription">Beschreibung</th>
                                <th class="taskDone"></th>
                            </tr>
                        </thead>
                        <tbody class="taskList">
                            <!-- in Progress Tasks -->
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="4"
                                    style="border: none; text-align: center; display: none; padding-top: 2rem;"
                                    data-noEntriesFound>Keine Aufgaben gefunden!</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <settings>
        <!-- Settings Menu -->
        <div id="settingsContainer">
            <div id="settingsTitleBar" class="flex spaceBetween alignCenter" style="height: 3rem;">
                <h3>Einstellungen</h3>
                <div style="position: relative;"><button id="openSettingsMenuButton">&#x2630;</button>
                    <div id="settingsMenu">
                        <button id="openTimetableSettingsButton"
                            class="selected settingsMenuButton">Stundenplan</button>
                        <button id="openSchoolYearSettingsButton" class="settingsMenuButton">Schuljahr</button>
                        <button id="openAccountSettingsButton" class="settingsMenuButton">Konto</button>
                        <button id="closeSettingsButton" class="settingsMenuButton">&#215;</button>
                        <button id="closeSettingsButtonResponsive" class="settingsMenuButton">schließen</button>
                    </div>
                </div>
            </div>

            <div id="timetableSettingsContainer" class="settingsSubContainer">
                <div id="settingsSubjectsContainer" class="flex doubleGap">
                    <div id="subjectsInfoTooltip" class="tooltip">?
                        <span class="tooltipTextLeft">Hier kannst du die von dir unterrichteten Fächer anlegen
                            und
                            ihnen
                            eine Farbe zuweisen. Gib einfach ein Fachkürzel deiner Wahl ein und wähle eine Farbe
                            aus.</span>
                    </div>
                    <!-- create subjects and select their colors -->
                    <div id="createSubjectContainer" class="flex gap">
                        <div class="flex gap column">
                            <div>
                                <label for="subjectName">Fächer anlegen:</label>
                                <div class="alertRing"><input type="text" name="subjectName" id="subjectName"
                                        placeholder="Fachkürzel"></div>
                            </div>
                            <div>
                                <label>Farbe wählen:</label>
                                <div id="colourSelection" class="flex halfGap"></div>
                            </div>
                        </div>
                        <div class="flex alignEnd justifyEnd">
                            <div><button id="createSubjectButton">Anlegen</button></div>
                        </div>
                    </div>

                    <!-- existing subjects list -->
                    <div id="existingSubjectsContainer" class="flex gap column">
                        <div class="flex spaceBetween">
                            <label>Fachübersicht:</label>
                        </div>
                        <div id="subjectsListContainer" class="flex gap"></div>
                    </div>
                </div>

                <div id="settingsTimetableContainer">
                    <div id="timetableDatePickerContainer" class="flex spaceBetween alignEnd marginBottom gap">
                        <div class="flex">
                            <div><label>Stundenpläne anlegen:</label></div>
                            <div id="noSubjectsAlertTooltip" class="tooltip error">!
                                <span class="tooltipTextRight">Es wurden keine Fächer gefunden! Bevor du einen
                                    Stundenplan anlegen kannst, musst du oben deine Fächer eintragen.</span>
                            </div>
                        </div>
                        <div id="validFromPickerContainer" class="gap">
                            <label>gültig ab: </label>
                            <div class="flex gap">
                                <button id="timetableBackwardButton">&#9664</button>
                                <div id="dateSpan" class="flex alignEnd"><span id="validFrom" data-date="">-</span>
                                </div>
                                <div id="validFromPickerWrapper" class="flex alignCenter" style="position: relative;">
                                    <div class="alertRing"><input type="date" name="validFromPicker"
                                            id="validFromPicker">
                                    </div>
                                    <div id="validFromPickerAlertTooltip" class="tooltip error">!
                                        <span class="tooltipTextLeft">Für dieses Datum existiert bereits ein
                                            Stundenplan. Um
                                            diesen
                                            zu ändern, wähle ihn aus und bearbeite ihn direkt.</span>
                                    </div>
                                </div>
                                <button id="timetableForwardButton">&#9654</button>
                            </div>
                            <div id="timetableInfoTooltip" class="tooltip">?
                                <span class="tooltipTextLeft">Hier kannst du deine festen Stundenpläne speichern und
                                    bearbeiten.
                                    Lege die Stunden im jeweiligen Zeitslot mit Klasse und Fach an. Wähle außerdem aus,
                                    ab
                                    wann der Plan gültig ist.</span>
                            </div>
                        </div>
                    </div>
                    <div id="settingsWeekOverviewContainer">
                        <div class="settingsWeekOverview alertRing" style="width: 100%;">
                            <div id="settingsTimeslots">
                                <div></div>
                                <div class="timeslotLabel">1</div>
                                <div class="timeslotLabel">2</div>
                                <div class="timeslotLabel">3</div>
                                <div class="timeslotLabel">4</div>
                                <div class="timeslotLabel">5</div>
                                <div class="timeslotLabel">6</div>
                                <div class="timeslotLabel">7</div>
                                <div class="timeslotLabel">8</div>
                                <div class="timeslotLabel">9</div>
                            </div>

                            <div class="settingsWeekday" data-weekday_number="1">
                                <div class="weekdayLabel">Mo</div>
                                <div class="settingsTimeslot" data-timeslot="1"></div>
                                <div class="settingsTimeslot" data-timeslot="2"></div>
                                <div class="settingsTimeslot" data-timeslot="3"></div>
                                <div class="settingsTimeslot" data-timeslot="4"></div>
                                <div class="settingsTimeslot" data-timeslot="5"></div>
                                <div class="settingsTimeslot" data-timeslot="6"></div>
                                <div class="settingsTimeslot" data-timeslot="7"></div>
                                <div class="settingsTimeslot" data-timeslot="8"></div>
                                <div class="settingsTimeslot" data-timeslot="9"></div>
                            </div>

                            <div class="settingsWeekday" data-weekday_number="2">
                                <div class="weekdayLabel">Di</div>
                                <div class="settingsTimeslot" data-timeslot="1"></div>
                                <div class="settingsTimeslot" data-timeslot="2"></div>
                                <div class="settingsTimeslot" data-timeslot="3"></div>
                                <div class="settingsTimeslot" data-timeslot="4"></div>
                                <div class="settingsTimeslot" data-timeslot="5"></div>
                                <div class="settingsTimeslot" data-timeslot="6"></div>
                                <div class="settingsTimeslot" data-timeslot="7"></div>
                                <div class="settingsTimeslot" data-timeslot="8"></div>
                                <div class="settingsTimeslot" data-timeslot="9"></div>
                            </div>

                            <div class="settingsWeekday" data-weekday_number="3">
                                <div class="weekdayLabel">Mi</div>
                                <div class="settingsTimeslot" data-timeslot="1"></div>
                                <div class="settingsTimeslot" data-timeslot="2"></div>
                                <div class="settingsTimeslot" data-timeslot="3"></div>
                                <div class="settingsTimeslot" data-timeslot="4"></div>
                                <div class="settingsTimeslot" data-timeslot="5"></div>
                                <div class="settingsTimeslot" data-timeslot="6"></div>
                                <div class="settingsTimeslot" data-timeslot="7"></div>
                                <div class="settingsTimeslot" data-timeslot="8"></div>
                                <div class="settingsTimeslot" data-timeslot="9"></div>
                            </div>

                            <div class="settingsWeekday" data-weekday_number="4" data-date="">
                                <div class="weekdayLabel">Do</div>
                                <div class="settingsTimeslot" data-timeslot="1"></div>
                                <div class="settingsTimeslot" data-timeslot="2"></div>
                                <div class="settingsTimeslot" data-timeslot="3"></div>
                                <div class="settingsTimeslot" data-timeslot="4"></div>
                                <div class="settingsTimeslot" data-timeslot="5"></div>
                                <div class="settingsTimeslot" data-timeslot="6"></div>
                                <div class="settingsTimeslot" data-timeslot="7"></div>
                                <div class="settingsTimeslot" data-timeslot="8"></div>
                                <div class="settingsTimeslot" data-timeslot="9"></div>
                            </div>

                            <div class="settingsWeekday" data-weekday_number="5">
                                <div class="weekdayLabel">Fr</div>
                                <div class="settingsTimeslot" data-timeslot="1"></div>
                                <div class="settingsTimeslot" data-timeslot="2"></div>
                                <div class="settingsTimeslot" data-timeslot="3"></div>
                                <div class="settingsTimeslot" data-timeslot="4"></div>
                                <div class="settingsTimeslot" data-timeslot="5"></div>
                                <div class="settingsTimeslot" data-timeslot="6"></div>
                                <div class="settingsTimeslot" data-timeslot="7"></div>
                                <div class="settingsTimeslot" data-timeslot="8"></div>
                                <div class="settingsTimeslot" data-timeslot="9"></div>
                            </div>
                        </div>
                    </div>
                    <div class="marginTop">
                        <div id="createChangeTimetableButtonContainer" class="flex justifyEnd halfGap">
                            <div><button id="editTimetableButton">Bearbeiten</button></div>
                            <div><button id="createNewTimetableButton">Plan anlegen</button></div>
                        </div>
                        <div id="saveDiscardTimetableButtonContainer" class="flex justifyEnd">
                            <div class="flex halfGap">
                                <div><button id="saveNewTimetableButton">Speichern</button></div>
                                <div><button id="discardNewTimetableButton">Abbrechen</button></div>
                            </div>
                        </div>
                        <div id="saveDiscardTimetableChangesButtonContainer" class="flex justifyEnd">
                            <div class="flex halfGap">
                                <div><button id="saveTimetableUpdatesButton">Speichern</button></div>
                                <div><button id="discardTimetableChangesButton">Abbrechen</button></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- curriculum editor -->
            <div id="curriculumViewContainer" class="settingsSubContainer" style="display: none">

                <!-- school year info -->
                <div id="schoolYearInfoContainer" class="flex column gap" data-school_year_id>
                    <div class="flex spaceBetween alignCenter">
                        <div>
                            <label>Schuljahr auswählen:</label>
                            <select name="schoolYearNameSelect" id="schoolYearNameSelect"></select>
                        </div>
                        <button id="createNewSchoolYearButton" class="confirmationButton">Schuljahr anlegen</button>
                        <div id="schoolYearCreationButtonsContainer" class="flex halfGap notDisplayed">
                            <button id="saveNewSchoolYearButton" class="confirmationButton">Schuljahr speichern</button>
                            <button id="cancelSchoolYearCreationButton" class="cancelButton">Abbrechen</button>
                        </div>
                    </div>
                    <div id="schoolYearDatesContainer" class="flex doubleGap spaceBetween">
                        <div id="schoolYearStartEndDateInfoContainer" class="flex gap spaceBetween">
                            <div class="flex column doubleGap">
                                <div>
                                    <label>Schuljahresbeginn:</label>
                                    <div id="schoolYearStartDateDisplay">Leg ein Schuljahr an,...</div>
                                </div>
                                <div>
                                    <label>Schuljahresende:</label>
                                    <div id="schoolYearEndDateDisplay">...damit hier etwas stehen kann.</div>
                                </div>
                            </div>
                            <div class="flex justifyEnd alignEnd">
                                <button id="editSchoolYearDatesButton"
                                    class="confirmationButton notDisplayed">bearbeiten</button>
                                <button id="saveSchoolYearDatesButton"
                                    class="confirmationButton notDisplayed">speichern</button>
                            </div>
                        </div>

                        <div id="holidaysInfoContainer" class="flex doubleGap spaceBetween">
                            <div id="holidaysContainer" class="flex column halfGap">
                                <div><label>Ferien und freie Tage:</label></div>
                            </div>
                            <div class="flex justifyEnd alignEnd">
                                <button id="editHolidayDatesButton"
                                    class="confirmationButton notDisplayed">bearbeiten</button>
                                <button id="createHolidayDatesButton"
                                    class="confirmationButton notDisplayed">anlegen</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- curriculum -->
                <div id="curriculumContainer">
                    <div class="marginBottom flex spaceBetween">
                        <label><span id="editorNameSpan">Jahresübersicht</span>:</label>
                        <button id="closeHolidayEditorButton" class="cancelButton notDisplayed">schließen</button>
                    </div>
                    <div id="dayNameContainer" style="display: none;">
                        <div class="dayName">Mo</div>
                        <div class="dayName">Di</div>
                        <div class="dayName">Mi</div>
                        <div class="dayName">Do</div>
                        <div class="dayName">Fr</div>
                        <div class="dayName" data-weekdaynumber="6">Sa</div>
                        <div class="dayName" data-weekdaynumber="0">So</div>
                    </div>
                    <div data-span_edit_active="false"></div>
                    <div id="yearContainer">
 </div>
                    <div id="addTimespanForm">
                        <div class="flex column">
                            <label for="topic">Beschreibung:</label>
                            <input type="text" name="topic" id="topicInput">
                        </div>
                        <div id="cancelSpanCreationButtonContainer" class="flex halfGap justifyEnd">
                            <button id="saveSpanCreationButton" class="confirmationButton">Speichern</button>
                            <button id="cancelSpanCreationButton" class="cancelButton">Abbrechen</button>
                            <button id="deleteSelectedSpanButton" class="cancelButton">Löschen</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- account settings -->
            <div id="accountSettingsContainer" style="display: none;" class="settingsSubContainer">
                <div id="deleteAccountContainer">
                    <label>Konto löschen:</label>
                    <div id="requestDeletionContainer">
                        <p>Beim Löschen des Kontos werden alle zugehörigen Daten entfernt.</p>
                        <button id="deleteAccountButton" class="cancelButton">Konto löschen</button>
                    </div>
                    <div id="approveAccountDeletionContainer">
                        <p>Bitte bestätige, dass du dein Konto endgültig löschen möchtest. Dieser Schritt kann nicht
                            rückgängig gemacht werden!</p>
                        <button id="approveAccountDeletionButton" class="confirmationButton">Bestätigen</button>
                        <button id="cancelAccountDeletionButton" class="cancelButton">Abbrechen</button>
                    </div>
                    <div id="deletionErrorDisplay">
                        <p>Etwas ist schief gelaufen. Bitte versuche es später noch einmal.</p>
                        <button id="cancelFailedAccountDeletionButton" class="cancelButton">zurück</button>
                    </div>
                </div>
                <div id="versionDisplay"></div>
            </div>

        </div>
    </settings>

    <!-- dialogs -->
    <dialog id="loginDialog">
        <div class="headline flex spaceBetween">
            <h3>Login</h3>
            <button class="useTemporarilyOfflineButton deleteItemButton" style="width: 1.5rem">×</button>
        </div>
        <form id="loginForm" method="post">
            <div class="flex column halfGap marginTop" class="formBody">
                <div>
                    <label for="userEmail" style="display: block">E-Mail</label>
                    <div class="alertRing"><input type="text" name="userEmail" id="userEmail" autofocus></div>
                </div>
                <div>
                    <label for="password" style="display: block">Passwort</label>
                    <div class="alertRing"><input type="password" name="password" id="password"></div>
                </div>
            </div>
            <div id="loginErrorMessageDisplay" class="errorMessageDisplay alertRing">
                Du bist aktuell nicht eingeloggt. Melde dich an, um Datenverlust zu vermeiden.
            </div>
            <div class="marginTop" style="text-align: center;"> <a href id="createAccount">Registrieren</a> oder <a href
                    id="continueAsGuest">als Gast
                    nutzen</a></div>
            <div class="flex justifyEnd marginTop">
                <button type="submit" id="loginButton" class="confirmationButton"
                    style="margin-right: 3px;">Login</button>
            </div>
        </form>
    </dialog>

    <dialog id="createAccountDialog">
        <div class="headline flex spaceBetween">
            <h3>Konto anlegen</h3>
            <button class="useTemporarilyOfflineButton deleteItemButton" style="width: 1.5rem">×</button>
        </div>
        <form id="createAccountForm" method="post">
            <div class="flex column halfGap marginTop" class="formBody">
                <div>
                    <label for="newUserEmail" style="display: block">E-Mail</label>
                    <div class="alertRing"><input type="mail" name="newUserEmail" id="newUserEmail" autofocus></div>
                </div>
                <div>
                    <label for="newPassword" style="display: block">Passwort wählen</label>
                    <div class="alertRing"><input type="password" name="newPassword" id="newPassword"></div>
                </div>
                <div>
                    <label for="newPasswordRepeat" style="display: block">Passwort wiederholen</label>
                    <div class="alertRing"><input type="password" name="newPasswordRepeat" id="newPasswordRepeat">
                    </div>
                </div>
            </div>
            <div id="accountCreationErrorMessageDisplay" class="errorMessageDisplay alertRing"></div>
            <div class="flex spaceBetween alignEnd marginTop">
                <a href="" class="backToLoginLink" style="margin-left: 3px; text-decoration: none;">zurück</a>
                <button type="submit" class="confirmationButton" id="submitNewAccountDataButton"
                    style="margin-right: 3px">Anlegen</button>
            </div>
        </form>
    </dialog>

    <dialog id="sendResetPasswordMailDialog">
        <div class="headline flex spaceBetween">
            <h3>Passwort-Reset-Mail anfordern</h3>
            <button class="useTemporarilyOfflineButton deleteItemButton" style="width: 1.5rem">×</button>
        </div>
        <form id="sendResetPasswordMailForm" method="post">
            <div class="flex column halfGap marginTop" class="formBody">
                <label for="resetPasswordMail" style="display: block">E-Mail-Adresse</label>
                <div class="alertRing"><input type="mail" name="resetPasswordMail" id="resetPasswordMail" autofocus>
                </div>
            </div>
            <div id="sendResetPasswordMailErrorMessageDisplay" class="errorMessageDisplay alertRing"></div>
            <div class="flex spaceBetween alignEnd marginTop">
                <a href="" class="backToLoginLink" style="margin-left: 3px; text-decoration: none;">zurück</a>
                <button type="submit" id="sendResetPasswordMailButton" class="confirmationButton"
                    style="margin-right: 3px">Anfordern</button>
            </div>
        </form>
    </dialog>

    <dialog id="resetPasswordDialog">
        <div class="headline flex spaceBetween">
            <h3>Passwort zurücksetzen</h3>
            <button class="useTemporarilyOfflineButton deleteItemButton" style="width: 1.5rem">×</button>
        </div>
        <form id="resetPasswordForm" method="post">
            <div class="flex halfGap marginTop" class="formBody">
                <div>
                    <label for="resetPassword" style="display: block">Neues Passwort</label>
                    <div class="alertRing"><input type="password" name="resetPassword" id="resetPassword" autofocus>
                    </div>
                </div>
                <div>
                    <label for="resetPasswordRepeat" style="display: block">Passwort wiederholen</label>
                    <div class="alertRing"><input type="password" name="resetPasswordRepeat" id="resetPasswordRepeat">
                    </div>
                </div>
            </div>
            <div id="resetPasswordErrorMessageDisplay" class="errorMessageDisplay alertRing"></div>
            <div class="flex spaceBetween alignEnd marginTop navigation">
                <a href="" class="backToLoginLink" style="margin-left: 3px; text-decoration: none;">zurück</a>
                <button type="submit" id="resetPasswordButton" class="confirmationButton"
                    style="margin-right: 3px">Speichern</button>
            </div>
        </form>
    </dialog>

    <dialog id="LessonChangesAndTasksToKeepDialog">
        <div class="headline">
            <h3>Terminkonflikte</h3>
        </div>
        <div class="dialogBody">
            <p id="descriptionPara"></p>
            <div class="marginTop">
                <div id="lessonChangesConflictsContainer">
                    <label>Konflikte bei Vertretungen und Terminen:</label>
                    <table id="lessonChangesConflictsTable">
                        <thead>
                            <tr>
                                <th>Kl.</th>
                                <th>Fach</th>
                                <th>Datum</th>
                                <!-- <th>St.</th> -->
                                <th class="taskDescription">Typ</th>
                                <th style="border: none"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="marginTop">
                <div id="taskConflictsContainer">
                    <label>Konflikte bei Aufgaben:</label>
                    <table id="taskConflictsTable">
                        <thead>
                            <tr>
                                <th>Kl.</th>
                                <th>Fach</th>
                                <th>Datum</th>
                                <th class="taskDescription">Beschreibung</th>
                                <th style="border: none"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
                <div class="marginTop flex justifyEnd">
                    <button id="closeLessonChangesAndTasksToKeepDialogButton"
                        class="confirmationButton">Erledigt</button>
                </div>
            </div>
        </div>
    </dialog>

    <dialog id="supportDialog">
        <div class="headline flex spaceBetween">
            <h3>Support</h3><button class="deleteItemButton closeSupportDialogButton" style="width: 1.5rem">×</button>
        </div>
        <div class="dialogBody">
            <p>
                Du hast eine Frage zu einem Feature, hast ein Problem entdeckt oder einen Verbesserungsvorschlag? Dann
                schick uns eine Nachricht!
            </p>
            <form id="supportFrom">
                <div class="flex column halfGap marginTop" class="formBody">
                    <div>
                        <label for="supportTicketUserEmail" style="display: block">Deine E-Mail-Adresse</label>
                        <div class="alertRing"><input type="email" name="supportTicketUserEmail"
                                id="supportTicketUserEmail" autofocus>
                        </div>
                    </div>
                    <div>
                        <label for="supportTicketTopic" style="display: block">Thema des Tickets</label>
                        <div class="alertRing"><input type="text" name="supportTicketTopic" id="supportTicketTopic">
                        </div>
                    </div>
                    <div>
                        <label for="supportTicketContent" style="display: block">Beschreibung</label>
                        <div class="alertRing"><textarea name="supportTicketContent" id="supportTicketContent"
                                placeholder="Bei technischen Problemen beschreibe bitte möglichst genau, was du getan hast, bevor das Problem aufgetreten ist. So können wir es leichter nachvollziehen."></textarea>
                        </div>
                    </div>
                    <div class="flex spaceBetween" style="display: none">
                        <div id="supportTicketQuestionDisplay">Platzhalter</div>
                        <div class="alertRing" style="width:fit-content"><input type="text" name="answer"
                                id="supportTicketAnswer" style="width: 2rem;">
                        </div>
                    </div>
                </div>
                <div id="supportTicketErrorMessageDisplay" class="errorMessageDisplay alertRing"></div>
            </form>
            <div class="flex justifyEnd alignEnd marginTop navigation">
                <button type="submit" id="sendSupportTicketButton" class="confirmationButton"
                    style="margin-right: 3px">Senden</button>
                <button class="confirmationButton closeSupportDialogButton" id="closeSupportDialogButton"
                    style="margin-right: 3px; display: none">Schließen</button>
            </div>
        </div>
    </dialog>

    <dialog id="lessonNoteDialog" data-noteid data-class data-subject data-date data-timeslot data-weekday data-created>
        <div class="headline flex spaceBetween">
            <h3>Stundennotiz <span id="lessonNoteInfo"></span></h3><button id="closeLessonNotesButton"
                class="deleteItemButton" style="width: 1.5rem">×</button>
        </div>
        <div class="dialogBody">
            <div id="noteEditorContainer" class="flex column halfGap marginTop">
                <div id="editorButtonContainer" class="flex spaceBetween">
                    <div class="flex halfGap">
                        <button id="boldButton" style="font-weight: bold;">b</button>
                        <button id="orderedListButton"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"
                                class="olIcon"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                                <path class="olIcon"
                                    d="M64 136C64 122.8 74.7 112 88 112L136 112C149.3 112 160 122.7 160 136L160 240L184 240C197.3 240 208 250.7 208 264C208 277.3 197.3 288 184 288L88 288C74.7 288 64 277.3 64 264C64 250.7 74.7 240 88 240L112 240L112 160L88 160C74.7 160 64 149.3 64 136zM94.4 365.2C105.8 356.6 119.7 352 134 352L138.9 352C172.6 352 200 379.4 200 413.1C200 432.7 190.6 451 174.8 462.5L150.8 480L184 480C197.3 480 208 490.7 208 504C208 517.3 197.3 528 184 528L93.3 528C77.1 528 64 514.9 64 498.7C64 489.3 68.5 480.5 76.1 475L146.6 423.7C150 421.2 152 417.3 152 413.1C152 405.9 146.1 400 138.9 400L134 400C130.1 400 126.3 401.3 123.2 403.6L102.4 419.2C91.8 427.2 76.8 425 68.8 414.4C60.8 403.8 63 388.8 73.6 380.8L94.4 365.2zM288 128L544 128C561.7 128 576 142.3 576 160C576 177.7 561.7 192 544 192L288 192C270.3 192 256 177.7 256 160C256 142.3 270.3 128 288 128zM288 288L544 288C561.7 288 576 302.3 576 320C576 337.7 561.7 352 544 352L288 352C270.3 352 256 337.7 256 320C256 302.3 270.3 288 288 288zM288 448L544 448C561.7 448 576 462.3 576 480C576 497.7 561.7 512 544 512L288 512C270.3 512 256 497.7 256 480C256 462.3 270.3 448 288 448z" />
                            </svg></button>
                        <button id="unorderedListButton"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"
                                class="ulIcon"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                                <path class="ulIcon"
                                    d="M104 112C90.7 112 80 122.7 80 136L80 184C80 197.3 90.7 208 104 208L152 208C165.3 208 176 197.3 176 184L176 136C176 122.7 165.3 112 152 112L104 112zM256 128C238.3 128 224 142.3 224 160C224 177.7 238.3 192 256 192L544 192C561.7 192 576 177.7 576 160C576 142.3 561.7 128 544 128L256 128zM256 288C238.3 288 224 302.3 224 320C224 337.7 238.3 352 256 352L544 352C561.7 352 576 337.7 576 320C576 302.3 561.7 288 544 288L256 288zM256 448C238.3 448 224 462.3 224 480C224 497.7 238.3 512 256 512L544 512C561.7 512 576 497.7 576 480C576 462.3 561.7 448 544 448L256 448zM80 296L80 344C80 357.3 90.7 368 104 368L152 368C165.3 368 176 357.3 176 344L176 296C176 282.7 165.3 272 152 272L104 272C90.7 272 80 282.7 80 296zM104 432C90.7 432 80 442.7 80 456L80 504C80 517.3 90.7 528 104 528L152 528C165.3 528 176 517.3 176 504L176 456C176 442.7 165.3 432 152 432L104 432z" />
                            </svg></button>
                    </div>
                    <div class="flex halfGap">
                        <button id="revertChangeButton">&#8617;</button>
                        <button id="redoChangeButton">&#8618;</button>
                    </div>
                </div>
                <div id="noteContentEditor" contenteditable="true" data-noteversion>
                </div>
                <div class="flex alignCenter">
                    <label><input type="checkbox" id="noteFixedDateCheckbox">festes Datum</label>
                    <div id="noteFixedDateTooltip" class="tooltip">?
                        <span class="tooltipTextTop">Notizen zu zukünftigen Stunden verschieben sich bei Änderungen am
                            Stundenplan mit der Stunde, der sie zugewiesen wurden. Soll eine Notiz sich nicht
                            verschieben, muss 'festes Datum' angehakt sein.</span>
                    </div>
                </div>
                <div class="flex halfGap spaceBetween">
                    <div id="noteSavedMessage">gespeichert</div><button id="saveLessonNotesButton"
                        class="confirmationButton">Speichern</button>
                </div>
            </div>
        </div>
    </dialog>

    <script src="./js/index.js" type="module"></script>
</body>

</html>